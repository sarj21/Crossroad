<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="../bower_components/app-route/app-route.html">
<link rel="import" href="../bower_components/app-route/app-location.html">

<link rel="import" href="../bower_components/iron-pages/iron-pages.html">

<!-- Paper Elements -->
<link rel="import" href="../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">

<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<!-- Views -->
<link rel="import" href="later-cards.html">
<link rel="import" href="later-settings.html">

<dom-module id="later-app">
  <template>
    <style is="custom-style" include="iron-flex iron-flex-alignment"></style>
    <style>
      :host {
        display: block;
        height: 100%;
        width: 100%;
      }
      iron-pages {
          height: 100%;
          width: 100%;
      }
      iron-pages section {
          height: 100%;
          width: 100%;
      }
    </style>

    <app-location route="{{route}}"></app-location>
    <app-route
        route="{{route}}"
        pattern="/:page"
        data="{{routeData}}"
        tail="{{subroute}}"></app-route>

    <paper-drawer-panel responsive-width="200vw">
      <!-- Sidebar Content -->
      <paper-header-panel drawer>
        <paper-toolbar></paper-toolbar>
        <paper-menu selected={{selected}}>
          <paper-item>Home</paper-item>
          <paper-item>Change Cards</paper-item>
          <paper-item>Settings</paper-item>
        </paper-menu>
      </paper-header-panel>

      <!-- Main Body Content -->
      <paper-header-panel main>
        <paper-toolbar>
          <paper-icon-button icon="menu" paper-drawer-toggle>
          </paper-icon-button>
          <span class="title"> Later </span>
        </paper-toolbar>
        <div style="height: 100%">
          <iron-pages role="main" selected="[[page]]" fallback-selection="404">
            <later-cards name="cards"></later-cards>
            <later-settings name="settings"></later-settings>
          </iron-pages>

        </div>
      </paper-header-panel>

    </paper-drawer-panel>
  </template>
    <script>
        Polymer({
            is: 'later-app',

            properties: {
                page: {
                  type: Number,
                  value: 0
                }
            },

            ready: function(){
              var node = document.querySelector('weather-card');
              if (node) {
                console.log('run');
                node.animate();
              }

              node = document.querySelector('bookmarks-card');
              if (node) {
                console.log('run');
                node.animate();
              }
            }
        });
    </script>
</dom-module>
